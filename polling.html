<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <style>
      body {
        background-color: #333;
        color: #fff;
        font-family: sans-serif;
      }
      .question {
        padding: 10px;
        margin-bottom: 10px;
        background-color: #444;
      }
      .clickable {
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <h1>Vote</h1>
    <div id="questions">
      <!-- question area -->
    </div>
    <script>
      let billIndex = 0;
      const fetchBills = () => {
        fetch('https://api.congress.gov/v3/bill?api_key=doXXQe0arMxuRvEzFqfOUhncHCXUscYPRZNzvHBY')
          .then(response => response.json())
          .then(data => {
            const questionsContainer = document.querySelector('#questions');
            questionsContainer.innerHTML = '';
            const bills = data.bills;
            if (billIndex >= bills.length) {
              billIndex = 0;
            }
            const bill = bills[billIndex];
            const billEl = document.createElement('div');
            billEl.classList.add('question', 'clickable');
            billEl.innerHTML = `
              <h2>Do you support the bill "${bill.title}" ?</h2>
              <p>Congress: ${bill.congress}</p>
              <p>Latest Action: ${bill.latestAction.text}</p>
              <p>Bill Number: ${bill.number}</p>
              <p>Origin Chamber: ${bill.originChamber}</p>
              <p>Bill Type: ${bill.type}</p>
              <p>Update Date: ${bill.updateDate}</p>
              <button id="yes">Yes</button>
              <button id="no">No</button>
            `;
            billEl.addEventListener('click', function() {
              window.open(`https://www.congress.gov/bill/${bill.congress}/${bill.type}/${bill.number}`, '_blank');
            })
            questionsContainer.appendChild(billEl);
            const yesButton = document.querySelector('#yes');
            yesButton.addEventListener('click', () => {
              billIndex++;
              fetchBills();
            });
            const noButton = document.querySelector('#no');
            noButton.addEventListener('click', () => {
              billIndex++;
              fetchBills();
            });
          });
      };
      fetchBills();
      setInterval(fetchBills, 3000);
    </script>
  </body>
</html>
